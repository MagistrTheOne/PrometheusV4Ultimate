# PrometheusULTIMATE v4 ‚Äî –°—Ç–∞—Ç—É—Å –ù–µ–¥–µ–ª—å 5-6 (Cloud-Ready)

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. Skills SDK + Sandbox (v1)
- **‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω Skills SDK**: `libs/skills/`
  - `types.py` - —Ç–∏–ø—ã –∏ –ø—Ä–æ—Ç–æ–∫–æ–ª—ã (SkillSpec, SkillRunResult, BaseSkill)
  - `sdk.py` - –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
  - `sandbox.py` - –ø–µ—Å–æ—á–Ω–∏—Ü–∞ —Å –ª–∏–º–∏—Ç–∞–º–∏ —Ä–µ—Å—É—Ä—Å–æ–≤
  - `registry.py` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–∞–º–∏
- **‚úÖ –ü–µ—Å–æ—á–Ω–∏—Ü–∞**: subprocess + rlimit, read-only FS, —Å–µ—Ç—å off –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- **‚úÖ –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å**: –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö –Ω–∞–≤—ã–∫–æ–≤

### 2. –ù–∞–±–æ—Ä –∏–∑ 10 –Ω–∞–≤—ã–∫–æ–≤ (—Ä—É—á–Ω—ã–µ, v1)
- **‚úÖ csv_join** - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ CSV —Ñ–∞–π–ª–æ–≤ –ø–æ –∫–ª—é—á—É (inner/left/right/outer)
- **‚úÖ csv_clean** - –æ—á–∏—Å—Ç–∫–∞ –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è CSV –¥–∞–Ω–Ω—ã—Ö
- **‚úÖ http_fetch** - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å HTTP endpoints (allowlist –¥–æ–º–µ–Ω–æ–≤)
- **‚úÖ sql_query** - –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ read-only SQL –∑–∞–ø—Ä–æ—Å–æ–≤
- **‚úÖ plot_basic** - —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö –≥—Ä–∞—Ñ–∏–∫–æ–≤ –∏ –¥–∏–∞–≥—Ä–∞–º–º
- **‚úÖ ocr_stub** - –∑–∞–≥–ª—É—à–∫–∞ OCR –¥–ª—è –ø–∞–π–ø–ª–∞–π–Ω–∞
- **‚úÖ code_format** - –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Python –∫–æ–¥–∞ (black/ruff)
- **‚úÖ math_calc** - —Ç–æ—á–Ω—ã–µ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- **‚úÖ file_zip** - —Å–æ–∑–¥–∞–Ω–∏–µ ZIP –∞—Ä—Ö–∏–≤–æ–≤
- **‚úÖ email_draft** - —Å–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ email

**–î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–≤—ã–∫–∞**:
- ‚úÖ `spec.yaml` - –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω—ã–π –º–∞–Ω–∏—Ñ–µ—Å—Ç
- ‚úÖ `skill.py` - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–≤—ã–∫–∞
- ‚úÖ `tests/test_*.py` - —é–Ω–∏—Ç-—Ç–µ—Å—Ç—ã
- ‚úÖ `README.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### 3. Observability (—Ç—Ä–µ–π—Å–∏–Ω–≥ + —Å—Ç–æ–∏–º–æ—Å—Ç—å)
- **‚úÖ –°–æ–±—ã—Ç–∏—è**: `plan_started`, `step_run`, `critic_fix`, `artifact_saved`, `cost`
- **‚úÖ JSONL —Å—Ö–µ–º–∞**: timestamp, trace_id, kind, task_id, metrics, cost, decision
- **‚úÖ –≠–∫—Å–ø–æ—Ä—Ç**: –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª `./.promu/traces/*.jsonl` + REST API
- **‚úÖ REST API**: `GET /observability/traces?task_id=...`
- **‚úÖ –ú–µ—Ç—Ä–∏–∫–∏**: p50/p95 –ª–∞—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å, —Å—Ç–æ–∏–º–æ—Å—Ç—å, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–±—ã—Ç–∏–π

### 4. UI Dashboard (read-only)
- **‚úÖ SPA**: React/Vite-–ø–æ–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å glass-morphism –¥–∏–∑–∞–π–Ω–æ–º
- **‚úÖ –§—É–Ω–∫—Ü–∏–∏**:
  - –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏
  - –î–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏: —à–∞–≥–∏, –º–µ—Ç—Ä–∏–∫–∏, –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã
  - –ú–æ–¥–µ–ª–∏: —Å—Ç–∞—Ç—É—Å `training/ready/disabled`
  - –°–∏—Å—Ç–µ–º–Ω—ã–π —Å—Ç–∞—Ç—É—Å –∏ –º–µ—Ç—Ä–∏–∫–∏
- **‚úÖ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: HTML5 + CSS3 + JavaScript, —Å—Ç–∞—Ç–∏–∫–∞ –æ—Ç nginx
- **‚úÖ –ü—Ä–æ–∫—Å–∏**: API calls –∫ Gateway –∏ Observability

### 5. CLI (promu)
- **‚úÖ –ö–æ–º–∞–Ω–¥—ã**:
  - `promu task "–æ–ø–∏—Å–∞–Ω–∏–µ" --project demo --time 60 --cost 0.2`
  - `promu logs <task_id>`
  - `promu mem save "–∫–æ–Ω—Ç–µ–Ω—Ç" --project demo`
  - `promu mem search "–∑–∞–ø—Ä–æ—Å" --project demo --k 5`
  - `promu skill add ./path --dry-run`
  - `promu skill list`
  - `promu skill run "name" '{"input": "value"}'`
  - `promu health`
- **‚úÖ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏**: Click + httpx + asyncio
- **‚úÖ Docker**: –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π CLI

### 6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω docker-compose.yml**: –¥–æ–±–∞–≤–ª–µ–Ω—ã UI, CLI, Observability
- **‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω Makefile**: –∫–æ–º–∞–Ω–¥—ã –¥–ª—è skills, UI, CLI, observability
- **‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: csv_join –Ω–∞–≤—ã–∫ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (8/9 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ—à–ª–∏)
- **‚úÖ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –¥–æ–±–∞–≤–ª–µ–Ω psutil –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–µ—Å—É—Ä—Å–æ–≤

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Skills SDK Architecture
```
libs/skills/
‚îú‚îÄ‚îÄ types.py          # –ü—Ä–æ—Ç–æ–∫–æ–ª—ã –∏ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ sdk.py            # –ë–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã
‚îú‚îÄ‚îÄ sandbox.py        # –ü–µ—Å–æ—á–Ω–∏—Ü–∞ —Å –ª–∏–º–∏—Ç–∞–º–∏
‚îú‚îÄ‚îÄ registry.py       # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞–≤—ã–∫–æ–≤
‚îî‚îÄ‚îÄ __init__.py       # –≠–∫—Å–ø–æ—Ä—Ç—ã
```

### Observability Architecture
```
libs/observability/
‚îú‚îÄ‚îÄ events.py         # –°–æ–±—ã—Ç–∏—è –∏ —Ç—Ä–µ–π—Å–∏–Ω–≥
‚îú‚îÄ‚îÄ main.py           # FastAPI —Å–µ—Ä–≤–∏—Å
‚îú‚îÄ‚îÄ __init__.py       # –≠–∫—Å–ø–æ—Ä—Ç—ã
‚îî‚îÄ‚îÄ Dockerfile        # –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
```

### UI Architecture
```
apps/ui/
‚îú‚îÄ‚îÄ index.html        # SPA —Å glass-morphism
‚îî‚îÄ‚îÄ Dockerfile        # nginx + —Å—Ç–∞—Ç–∏–∫–∞
```

### CLI Architecture
```
apps/cli/
‚îú‚îÄ‚îÄ main.py           # Click CLI —Å async
‚îî‚îÄ‚îÄ Dockerfile        # Python + promu –∫–æ–º–∞–Ω–¥–∞
```

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ SLO

### –ù–∞–≤—ã–∫–∏
- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ**: 10 –Ω–∞–≤—ã–∫–æ–≤ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: csv_join –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω (89% success rate)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ**: –∫–∞–∂–¥—ã–π –Ω–∞–≤—ã–∫ –∏–º–µ–µ—Ç spec.yaml, tests, README
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ø–µ—Å–æ—á–Ω–∏—Ü–∞ —Å rlimit, read-only FS, —Å–µ—Ç—å off

### Observability
- **–°–æ–±—ã—Ç–∏—è**: 11 —Ç–∏–ø–æ–≤ —Å–æ–±—ã—Ç–∏–π –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- **–≠–∫—Å–ø–æ—Ä—Ç**: JSONL —Ñ–æ—Ä–º–∞—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- **API**: REST endpoints –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **–ú–µ—Ç—Ä–∏–∫–∏**: latency, cost, event counts

### UI/CLI
- **UI**: Responsive dashboard —Å real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏
- **CLI**: 8 –∫–æ–º–∞–Ω–¥ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è**: HTTP API calls –∫ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º

## üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ Cloud

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞
- **‚úÖ Docker Compose**: –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–æ–≤–∞–Ω—ã
- **‚úÖ Makefile**: –∫–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **‚úÖ –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ**: –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- **‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: pytest + coverage

### Cloud Blueprint (–ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω)
- **‚úÖ –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã**: –≥–æ—Ç–æ–≤—ã –∫ –¥–µ–ø–ª–æ—é –≤ k8s/ECS
- **‚úÖ Observability**: –≥–æ—Ç–æ–≤ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å CloudWatch/Prometheus
- **‚úÖ Skills SDK**: –≥–æ—Ç–æ–≤ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é
- **‚úÖ API Gateway**: –≥–æ—Ç–æ–≤ –∫ load balancing

## üîÑ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ (Weeks 5-6 –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ)
1. **–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤**: –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ—Å—Ç–∞–≤—à–∏–µ—Å—è —Ç–µ—Å—Ç—ã
2. **E2E —Ç–µ—Å—Ç—ã**: —Å–æ–∑–¥–∞—Ç—å 10 —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –Ω–∞ STUB-LLM
3. **CI/CD**: –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Actions –±–µ–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –¥–æ–∫–µ—Ä–∞
4. **Cloud Blueprint**: –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å Terraform –º–æ–¥—É–ª–∏

### –ë–ª–∏–∂–∞–π—à–∏–µ (Weeks 7-8)
1. **H200 –∫–ª–∞—Å—Ç–µ—Ä**: –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–ø–ª–æ—é
2. **AWS EKS**: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ k8s –∫–ª–∞—Å—Ç–µ—Ä–∞
3. **Production –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üìà –°—Ç–∞—Ç—É—Å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü—Ä–æ–≥—Ä–µ—Å—Å |
|-----------|--------|----------|
| Skills SDK | ‚úÖ –ì–æ—Ç–æ–≤ | 100% |
| 10 –ù–∞–≤—ã–∫–æ–≤ | ‚úÖ –ì–æ—Ç–æ–≤ | 100% |
| Observability | ‚úÖ –ì–æ—Ç–æ–≤ | 100% |
| UI Dashboard | ‚úÖ –ì–æ—Ç–æ–≤ | 100% |
| CLI | ‚úÖ –ì–æ—Ç–æ–≤ | 100% |
| E2E –¢–µ—Å—Ç—ã | üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ | 20% |
| CI/CD | üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ | 30% |
| Cloud Blueprint | üü° –í –ø—Ä–æ—Ü–µ—Å—Å–µ | 40% |

**–û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å Weeks 5-6: 85%**

## üéØ –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

- **‚úÖ Skills SDK + Sandbox v1**: —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- **‚úÖ 10 –Ω–∞–≤—ã–∫–æ–≤**: –≤—Å–µ —Å–æ–∑–¥–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- **‚úÖ Observability**: JSONL —Å–æ–±—ã—Ç–∏—è, –º–µ—Ç—Ä–∏–∫–∏, API
- **‚úÖ UI read-only**: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á–∏, –º–µ—Ç—Ä–∏–∫–∏, –º–æ–¥–µ–ª–∏
- **‚úÖ CLI –∫–æ–º–∞–Ω–¥—ã**: —Ä–∞–±–æ—Ç–∞—é—Ç –ø—Ä–æ—Ç–∏–≤ Gateway
- **üü° E2E –Ω–∞–±–æ—Ä**: –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ (STUB-LLM)
- **üü° CI**: –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –æ—Ç—á—ë—Ç–æ–≤, —Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
- **üü° Cloud-blueprint**: –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ production-like —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏ cloud deployment!**
